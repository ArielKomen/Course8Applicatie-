<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/png" href="/data/melon.png">

    <!--     <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">-->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="{{ url_for('static', filename='webpage.css') }}">
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
<div id="Home" class="upperbar">
  <h1><div style="text-align: center;">Home</div></h1>
  <p><div style="text-align: center;">Welcome to the home page! This is where you'll find the main application.</div></p>
</div>

<button class="tablink" id="defaultOpen"><li><a href="webpage.html"><span>Home</span></a></li></button>
<button class="tablink" ><li><a href="Help.html"><span>Help</span></a></li></button>
<button class="tablink" ><li><a href="Disclaimer.html"><span>Disclaimer</span></a></li></button>
<button class="tablink" ><li><a href="About.html"><span>About</span></a></li></button>
	<!--in de Home pagina willen we heel veel dingen gaan doen. De uitklabare  tabel,
	een paar radiobuttons om te laten weten of er ziektes of compounds gevisualiseerd moeten worden,
	een sunburst diagram(verkrijgen vanuit D3(data driven documents)) en
	als laatste een tabel met daarin artikelen die de gebruiker gevonden heeft, je zou in deze tabel artikelen moeten kunnen 
	aanvinken die je wil exporteren. Het liefst dit doen op een manier zoals uniprot baskets gebruikt.  
	 -->
	<!-- code om een uitklapbare lijst te maken, soort van-->

	<!-- code om radiobuttons te maken-->
	<!-- code om de sunburst diagram te maken-->    
    <!-- <link rel="stylesheet" href="{{ url_for('static', filename='static/webpage.css') }}"> -->
	<!-- code om een tabel te maken-->

<!--hier staat de code voor een uitklapbare lijst -->
<style>
body {font-family: "Lato", sans-serif;}
body{
	background-color: #daf1ee;
}
.tablink {
  background-color: #555;
  color: white;
  float: left;
  border: none;
  outline: none;
  cursor: pointer;
  padding: 10px 16px;
  font-size: 17px;
  width: 25%;
}

.li {
  color: #41B3A3;
}

.li span{
  color: white;
}

.tablink:hover {
  background-color: #41B3A3;
}

.upperbar {
  background-color: #41B3A3;
  padding: 10px 16px;
}



</style>



<form action="/" method="GET">
<input type="list" name="input"><br>
</form>


<div style=" width:20%; min-height: 500px; background-color:lightblue; display:inline-block; border:2px solid darkblue">
{% for regel in input %}
	{{ regel|safe }}		
	<!--de |safe in regel zorgt ervoor dat alles met een <b></b> bold wordt, ik weet niet hoe maar het werkt -->
{% endfor %}
</div>


<div style=" width:20%; min-height: 50px; background-color:yellow; display:inline-block; vertical-align:top; border:2px solid darkblue">
<form action="/" method="post">
    <p>
        <input type="radio" name="options" id="Disease" value="Disease"> Disease </input><br>
        <input type="radio" name="options" id="Compound" value="Compound"> Compound </input><br>
    </p>
<p><input type=submit value=change></p>
</form>
</div>
<!-- <script src ="//d3js.org.d3.v4.min.js"> </script>
<script src="/static/js/voorbeeld.js" type="text/javascript"></script> -->



<style>
        .my-custom-scrollbar {
        position: relative;
        height: 500px;
        overflow: auto;
        }
        .table-wrapper-scroll-y {
        display: block;
}
</style>

<form action="/export" method="GET">
	<div class="table-wrapper-scroll-y my-custom-scrollbar" style=" width:50%; min-height: 100px; background-color:gray; display:inline-block; vertical-align:top; border:2px solid darkblue">
		<table border=1 class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
		    <thead><tr>
		        <th class="th-sm">Select</th>
		        <th class="th-sm">Title</th>
		        <th class="th-sm">Date</th>
		        <th class="th-sm">Hyperlink</th>
		    </tr></thead>
		    <tbody>
		    {% for sublijst in input_b %}
		        <tr>
				<td><input type="checkbox" name="Selected" value={{ sublijst[2][35:] }}/></td>
				<td>{{ sublijst[0] }}</td>
				<td>{{ sublijst[1] }}</td>
				<td><a href={{ sublijst[2] }}>{{ sublijst[2] }}</a></td>
		        </tr>

		    {% endfor %}
		    </tbody>

		</table>
	</div>
	<input type='submit' />
</form>























<style>
body {
    font-family: Sans-serif;
    font-size: 11px;
}

.slice {
    cursor: pointer;
}

.slice .main-arc {
    stroke: #fff;
    stroke-width: 1px;
}

.slice .hidden-arc {
    fill: none;
}

.slice text {
    pointer-events: none;
    dominant-baseline: middle;
    text-anchor: middle;
}
</style>

<div4 style=" width:20%; min-height: 50px; background-color:cyan; display:inline-block; vertical-align:top; border:2px solid darkblue">
<script src='https://d3js.org/d3.v4.min.js'></script>
</div4>

<script>
const width = window.innerWidth,
    height = window.innerHeight,
    maxRadius = (Math.min(width, height) / 2) - 5;

const formatNumber = d3.format(',d');

const x = d3.scaleLinear()
    .range([0, 2 * Math.PI])
    .clamp(true);

const y = d3.scaleSqrt()
    .range([maxRadius*.1, maxRadius]);

const color = d3.scaleOrdinal(d3.schemeCategory20);

const partition = d3.partition();

const arc = d3.arc()
    .startAngle(d => x(d.x0))
    .endAngle(d => x(d.x1))
    .innerRadius(d => Math.max(0, y(d.y0)))
    .outerRadius(d => Math.max(0, y(d.y1)));

const middleArcLine = d => {
    const halfPi = Math.PI/2;
    const angles = [x(d.x0) - halfPi, x(d.x1) - halfPi];
    const r = Math.max(0, (y(d.y0) + y(d.y1)) / 2);

    const middleAngle = (angles[1] + angles[0]) / 2;
    const invertDirection = middleAngle > 0 && middleAngle < Math.PI; // On lower quadrants write text ccw
    if (invertDirection) { angles.reverse(); }

    const path = d3.path();
    path.arc(0, 0, r, angles[0], angles[1], invertDirection);
    return path.toString();
};

const textFits = d => {
    const CHAR_SPACE = 6;

    const deltaAngle = x(d.x1) - x(d.x0);
    const r = Math.max(0, (y(d.y0) + y(d.y1)) / 2);
    const perimeter = r * deltaAngle;

    return d.data.name.length * CHAR_SPACE < perimeter;
};

const svg = d3.select('body').append('svg')
    .style('width', '100vw')
    .style('height', '100vh')
    .attr('viewBox', `${-width / 2} ${-height / 2} ${width} ${height}`)
    .on('click', () => focusOn()); // Reset zoom on canvas click

d3.json('https://gist.githubusercontent.com/mbostock/4348373/raw/85f18ac90409caa5529b32156aa6e71cf985263f/flare.json', (error, root) => {
    if (error) throw error;

    root = d3.hierarchy(root);
    root.sum(d => d.size);

    const slice = svg.selectAll('g.slice')
        .data(partition(root).descendants());

    slice.exit().remove();

    const newSlice = slice.enter()
        .append('g').attr('class', 'slice')
        .on('click', d => {
            d3.event.stopPropagation();
            focusOn(d);
        });

    newSlice.append('title')
        .text(d => d.data.name + '\n' + formatNumber(d.value));

    newSlice.append('path')
        .attr('class', 'main-arc')
        .style('fill', d => color((d.children ? d : d.parent).data.name))
        .attr('d', arc);

    newSlice.append('path')
        .attr('class', 'hidden-arc')
        .attr('id', (_, i) => `hiddenArc${i}`)
        .attr('d', middleArcLine);

    const text = newSlice.append('text')
        .attr('display', d => textFits(d) ? null : 'none');

    // Add white contour
    text.append('textPath')
        .attr('startOffset','50%')
        .attr('xlink:href', (_, i) => `#hiddenArc${i}` )
        .text(d => d.data.name)
        .style('fill', 'none')
        .style('stroke', '#fff')
        .style('stroke-width', 5)
        .style('stroke-linejoin', 'round');

    text.append('textPath')
        .attr('startOffset','50%')
        .attr('xlink:href', (_, i) => `#hiddenArc${i}` )
        .text(d => d.data.name);
});

function focusOn(d = { x0: 0, x1: 1, y0: 0, y1: 1 }) {
    // Reset to top-level if no data point specified

    const transition = svg.transition()
        .duration(750)
        .tween('scale', () => {
            const xd = d3.interpolate(x.domain(), [d.x0, d.x1]),
                yd = d3.interpolate(y.domain(), [d.y0, 1]);
            return t => { x.domain(xd(t)); y.domain(yd(t)); };
        });

    transition.selectAll('path.main-arc')
        .attrTween('d', d => () => arc(d));

    transition.selectAll('path.hidden-arc')
        .attrTween('d', d => () => middleArcLine(d));

    transition.selectAll('text')
        .attrTween('display', d => () => textFits(d) ? null : 'none');

    moveStackToFront(d);

    //

    function moveStackToFront(elD) {
        svg.selectAll('.slice').filter(d => d === elD)
            .each(function(d) {
                this.parentNode.appendChild(this);
                if (d.parent) { moveStackToFront(d.parent); }
            })
    }
}
</script>


  

   
</body>
</html> 
